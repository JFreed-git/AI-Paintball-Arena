<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paintball Arena</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="gameContainer">
        <!-- Round UI (moved outside #ui so fixed positioning uses viewport) -->
        <div id="roundBanner" class="hidden"></div>
        <div id="roundCountdown" class="hidden"></div>
        <div id="ui">

            <!-- Paintball HUD -->
            <div id="healthContainer" class="hidden">
                <div id="sprintIndicator" class="hidden">SPRINTING</div>
                <div id="healthBar">
                    <div id="healthFill" style="width: 100%"></div>
                </div>
                <div id="ammoRow">
                    <span id="ammoDisplay">0/0</span>
                    <span id="reloadIndicator" class="hidden">Reloading...</span>
                </div>
            </div>
        </div>

        <div id="mainMenu" class="menu">
            <h1>Paintball Arena</h1>
            <div class="field">
                <label for="sensInput">Mouse Sensitivity</label>
                <input type="range" id="sensInput" min="0.2" max="3" step="0.1" value="1.0">
                <span id="sensValue">1.0</span>
            </div>
            <div class="field">
                <label for="fovInput">Field of View</label>
                <input type="range" id="fovInput" min="50" max="110" step="1" value="75">
                <span id="fovValue">75</span>
            </div>
            <div class="actions">
                <button id="gotoPaintball">Play Paintball</button>
                <button id="gotoLAN">Play LAN</button>
            </div>
        </div>

        <div id="paintballMenu" class="menu hidden">
            <h2>Paintball (AI)</h2>
            <div class="field">
                <label>Difficulty
                    <select id="paintballDifficulty">
                        <option value="Easy" selected>Easy</option>
                        <option value="Medium">Medium</option>
                        <option value="Hard">Hard</option>
                    </select>
                </label>
            </div>
            <div class="actions">
                <button id="startPaintball">Start</button>
                <button class="secondary" id="backFromPaintball">Back</button>
            </div>
        </div>

        <div id="lanMenu" class="menu hidden">
            <h2>LAN Multiplayer</h2>
            <div class="field">
                <label>Room ID
                    <input type="text" id="roomId" placeholder="e.g., room1" />
                </label>
            </div>

            <h3>Room Settings (host can configure)</h3>
            <div class="field">
                <label>Fire Cooldown (ms)
                    <input type="number" id="fireCooldownMs" min="50" max="2000" step="1" value="166" />
                </label>
            </div>
            <div class="field">
                <label>Magazine Size
                    <input type="number" id="magSize" min="1" max="200" step="1" value="6" />
                </label>
            </div>
            <div class="field">
                <label>Reload Time (sec)
                    <input type="number" id="reloadTimeSec" min="0.2" max="10" step="0.1" value="2.5" />
                </label>
            </div>
            <div class="field">
                <label>Player Health
                    <input type="number" id="playerHealth" min="1" max="1000" step="1" value="100" />
                </label>
            </div>
            <div class="field">
                <label>Player Damage
                    <input type="number" id="playerDamage" min="1" max="500" step="1" value="20" />
                </label>
            </div>

            <div class="actions">
                <button id="hostLanBtn">Host LAN Game</button>
                <button id="joinLanBtn" class="secondary">Join LAN Game</button>
                <button id="backFromLAN" class="secondary">Back</button>
            </div>
        </div>

        <div id="resultMenu" class="menu hidden">
            <h2>Session Complete</h2>
            <p style="text-align:center;margin:10px 0 20px;">Final Score: <strong><span id="finalScore">0</span></strong></p>
            <div class="actions">
                <button id="backToMenu">Back to Main Menu</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="multiplayer.js"></script>
    <script src="menuNavigation.js"></script>
    <script src="playerControls.js"></script>
    <script src="environment.js"></script>
    <script src="playerModels.js"></script>
    <script src="paintballEnvironment.js"></script>
    <!-- Paintball mode scripts -->
    <script src="physics.js"></script>
    <script src="projectiles.js"></script>
    <script src="aiOpponent.js"></script>
    <script src="paintballGame.js"></script>
    <script src="game.js"></script>
</body>
</html>
